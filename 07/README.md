# 07장 연산자

영어를 외우고 가자.

- 연산자 : Operator
- 피연산자 : Operand

자바스크립트가 제공하는 연산자에 대해 살펴보자!

## 7.1 산술 연산자<sup>arithmetic operator</sup>

산술 연산이 불가능한 경우 `NaN`을 반환한다.

### 7.1.1 이항 산술 연산자

| 이항 산술 연산자 | 의미   | 부수 효과 |
| ---------------- | ------ | --------- |
| +                | 덧셈   | X         |
| -                | 뺄셈   | X         |
| \*               | 곱셈   | X         |
| /                | 나눗셈 | X         |
| %                | 나머지 | X         |

아는 내용이므로 넘어간다.

### 7.1.2 단항 산술 연산자

| 단한 산술 연산자 | 의미                                                 | 부수효과 |
| ---------------- | ---------------------------------------------------- | -------- |
| ++               | 증가                                                 | O        |
| --               | 감소                                                 | O        |
| +                | 어떠한 효과도 없다. 음수를 양소로 반전하지도 않는다. | X        |
| -                | 양수를 음수로, 음수를 양수로 반전한 값을 반환한다.   | X        |

증감 연산자(++/--)는 위치에 따라서

- 전위 증감 연산자<sup>prefix increment/decrement operator</sup>
- 후위 증감 연산자<sup>postfix increment/decrement operator</sup>

```js
var x = 5;
var result;

// 선할당 후증가
result = x++;
console.log(result, x); // 5 6

// 선증가 후할당
result = ++x;
console.log(result, x); // 7 6
```

```js
+10; // 10
+-10; // -10
```

`+` 단항 연산자는 피연산자를 숫자 타입으로 변환하여 반환한다.

```js
var x = "1";
+x; // 1

x = true;
+x; // 1
x = false;
+x; // 0

x = "Hello";
+x; // NaN (숫자로 타입 변환 불가능)
```

`-` 단항 연산자는 부호를 반전한 값을 반환한다.

```js
-(-10); // 10

-"10"; // -10 문자를 숫자로 타입 변환

-true; // -1
-"Hello"; // Nan
```

### 7.1.3 문자열 연결 연산자

`+`연산자는 피연사자 중 하나 이상이 문자열이면 문자열 연산 연산자로 동작한다.

```js
"1" + 2; // '12'

1 + true; // 2

1 +
  null + // 1 + 0 = 1
  undefined; // NaN
1 + undefined; // NaN
```

연산을 위해 데이터의 타입을 맞춰주려고 JS 엔진이 타입을 억지로 바꿔주는 것을 **_암묵적 타입 변환_** 또는 **_타입 강제 변환_**이라고 한다.

## 7.2 할당 연산자

아는 내용 생략.

```js
var x;

// 할당문은 표현식인 문이다.
console.log((x = 10)); // 10
```

```js
var a, b, c;

// 연쇄 할당
a = b = c = 0;

console.log(a, b, c); // 0 0 0
```

## 7.3 비교 연산자<sup>comparison operator</sup>

불리언 값을 반환한다.

### 7.3.1 동등/일치 비교 연산자

동등 비교는 느슨한 비교, 일치 비교는 엄격한 비교를 한다.

| 비교 연산자 | 의미        | 사례    | 설명                     | 부수효과 |
| ----------- | ----------- | ------- | ------------------------ | -------- |
| ==          | 동등 비교   | x == y  | x와 y의 값이 같음        | X        |
| ===         | 일치 비교   | x === y | x와 y의 값과 타입이 같음 | X        |
| !=          | 부동등 비교 | x != y  | x와 y의 값이 다름        | X        |
| !==         | 불일치 비교 | x !== y | x와 y의 값과 타입이 다름 | X        |

동등 비교(==) 연산자는 좌우를 비교할 때 먼저 **암묵적 타입 변환**을 하여 타입을 일치시킨 후 같은 값인지 비교한다.

```js
5 == "5"; // true
5 === "5"; // false

0 == ""; // true

false == "0"; // true
false == null; // false
false == undefined; // false
```

위 코드처럼 `==` 연산자는 예측하기가 어려우니까 그냥 쓰지 말자.

일치 비교 연산자에서 주의할 것은 `NaN`이다. NaN을 다루려면 빌트인 함수 isNaN을 사용하자.

```js
NaN === NaN; // false

isNaN(Nan); // true
isNaN(1 + undefined); // true
```

숫자 `0`도 조심하자.

```js
0 === -0; // true
0 == -0; // true
```

## 7.4 삼항 조건 연산자

```js
var x = 10;

var result = x % 2 ? "홀수" : "짝수";
// 0이 암묵적 형변환으로 false로 바뀐다.
console.log(result); // 짝수
```

## 7.5 논리 연산자

우리가 아는 `||` OR, `&&` AND, `!` NOT 이 있다.

`!` 연산자는 피연산자가 불리언이 아닐때 암묵적 타입 변환을 시킨다.

```js
//암묵적 타입 변환
!0; // true
!"hello"; // false
```

`||` 또는 `&&` 의 결과는 불리언이 아닐 수 있다. 항상 2개의 피연산자 중 어느 한쪽으로 평가된다. 9.4절 단축평가에서 자세히 살펴본다.

```js
// 단축 평가
"Cat" && "Dog"; // "Dog"
```

## 7.6 쉼표 연산자

왼쪽부터 차례대로 연산하여 마지막 연산이 끝나면 마지막 피연산자의 평가 결과를 반환한다.

```js
var a, b, c;

(a = 1), (b = 2), (c = 3); // 3
```

## 7.8 typeof 연산자

데이터 타입을 문자열로 반환한다.

string, number, boolean, undefined, symbol, object, function의 7가지 중 하나를 반환한다.

```js
typeof ""; // 'string'
typeof NaN; // 'number'
typeof Symbol(); // 'symbol'
typeof null; // 'obejct'  <- 주의 : JS의 첫 번째 버전의 버그. 현재까지 무서워서 수정 못함..
typeof []; // 'obejct'
typeof /test/gi; // 'obejct'
typeof function () {}; // 'function'
```

## 7.9 지수 연산자

ES7에서 도입되었다. 좌항이 밑, 우항이 지수가 되어 거듭 제곱한다.

도입되기 전까진 Math.pow 메서드를 썼었다.

```js
2 ** 3; // 8
2 ** 2.5; // 5.6568....
2 ** 0; // 1
2 ** -2; // 0.25

Math.pow(2, 2); // 4
```

할당 연산자(+= 등)와 함께 사용가능하다.

```js
var num = 5;
num **= 2; // 25
```

## 7.12 연산자 우선 순위

연산자 종류가 많으므로 기억하기 어렵다. &rarr; 그냥 괄호로 묶어서 명시적으로 연산하자.
